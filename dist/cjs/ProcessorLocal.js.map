{"version":3,"file":"ProcessorLocal.js","sources":["../../src/ProcessorLocal.ts"],"sourcesContent":[null],"names":["Processor","CSVError","RowSplit","prepareData","getEol","stringToLines","bufFromString","filterArray","lineToJson"],"mappings":"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"}